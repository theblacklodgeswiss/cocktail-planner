# Cocktail Planner

A Flutter web application for managing cocktail orders, generating shopping lists, and integrating with Microsoft 365 services.

## Features

- âœ¨ Modern Material Design 3 UI
- ğŸ“± Progressive Web App (PWA) - installable on mobile and desktop
- ğŸŒ“ Light and dark theme support
- ğŸ¹ Cocktail recipe management
- ğŸ“ Shopping list generation
- ğŸ’¼ Order management with PDF export
- ğŸ‘¥ **Employee Management** (NEW)
- ğŸ“Š **Employee Assignment to Orders** (NEW)
- â˜ï¸ **OneDrive Integration** - Auto-upload PDFs (NEW)
- ğŸ“… **Outlook Calendar Integration** - Auto-create events (NEW)
- ğŸŒ Multi-language support (German & English)
- ğŸ”¥ Firebase/Firestore backend
- ğŸ¨ Responsive design for iPhone, iPad, and Desktop

## Getting Started

### Prerequisites

- Flutter SDK (latest stable version)
- A web browser (Chrome, Firefox, Safari, or Edge)

### Installation

1. Clone the repository:
```bash
git clone <repository-url>
cd cocktail-planner
```

2. Install dependencies:
```bash
flutter pub get
```

3. (Optional) Configure Microsoft Graph integration:
   - See `MICROSOFT_GRAPH_SETUP.md` for Azure AD configuration
   - Update `web/msal_config.js` with your credentials

### Running the App

#### Development Mode
```bash
flutter run -d chrome
```

Or for other browsers:
```bash
flutter run -d edge
flutter run -d firefox
```

#### Building for Production
```bash
flutter build web --release
```

The built files will be in the `build/web` directory.

### Deploying as PWA

After building, you can deploy the contents of `build/web` to any static hosting service:

- **GitHub Pages**: Perfect for personal projects
- **Firebase Hosting**: Easy setup and free tier
- **Netlify**: Simple drag-and-drop deployment
- **Vercel**: Great for modern web apps
- **AWS S3**: For enterprise solutions

## New Features (v2.0)

### Employee Management
- Add and manage employees with names and emails
- Real-time employee list with Firestore sync
- Responsive UI for all device sizes

### Employee Assignment
- Assign multiple employees to orders
- Visual multi-select chips with avatars
- Auto-save on selection change

### Microsoft 365 Integration
- **OneDrive**: Automatically uploads order PDFs when accepted
  - Structured folder path: `AuftrÃ¤ge/YYYY/MM Month/filename.pdf`
- **Outlook Calendar**: Automatically creates calendar events
  - Includes order details, date, and duration
- **Graceful Degradation**: Works without Microsoft integration if not configured

For setup instructions, see the **Microsoft Graph Setup** section in this README.

## PWA Features

The app includes full PWA support:

- **Installable**: Users can install the app on their device
- **Offline Ready**: Service worker caching (generated by Flutter)
- **Responsive**: Works on mobile, tablet, and desktop
- **App-Like Experience**: Runs in standalone mode
- **Custom Icons**: Includes 192x192 and 512x512 icons with maskable variants

### Installing the PWA

1. Open the app in a supported browser
2. Look for the install prompt in the address bar
3. Click "Install" to add it to your home screen/app drawer

## Project Structure

```
cocktail-planner/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ data/              # Repositories and Firestore service
â”‚   â”œâ”€â”€ models/            # Data models (Order, Employee, etc.)
â”‚   â”œâ”€â”€ screens/           # UI screens
â”‚   â”œâ”€â”€ services/          # Business logic (PDF, Microsoft Graph)
â”‚   â”œâ”€â”€ utils/             # Utilities and helpers
â”‚   â””â”€â”€ main.dart          # Main application entry
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ icons/             # PWA icons
â”‚   â”œâ”€â”€ index.html         # Entry HTML file
â”‚   â”œâ”€â”€ manifest.json      # PWA manifest
â”‚   â”œâ”€â”€ msal_config.js     # Microsoft Graph configuration (NEW)
â”‚   â””â”€â”€ favicon.png        # Browser favicon
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ translations/      # i18n translations (de, en)
â””â”€â”€ README.md              # This file
```

## Development

### Running Tests
```bash
flutter test
```

### Code Formatting
```bash
dart format .
```

### Code Analysis
```bash
flutter analyze
```

### Build for Production
```bash
flutter build web --release
```

## Microsoft Graph Setup

To enable OneDrive and Outlook calendar integration:
1. Register an Azure AD application in the [Azure Portal](https://portal.azure.com)
2. Add required permissions: `Files.ReadWrite`, `Calendars.ReadWrite`
3. Set the redirect URI to your hosted app URL
4. Update `web/msal_config.js` with your `MSAL_CLIENT_ID` and `MSAL_TENANT_ID`

Without configuration, the app works normally â€“ Microsoft features are gracefully disabled.

## Technologies Used

- **Flutter** 3.10+ - Cross-platform framework
- **Firebase/Firestore** - Backend database
- **Microsoft Graph API** - OneDrive and Outlook integration
- **MSAL.js** - Microsoft Authentication Library
- **easy_localization** - Internationalization
- **go_router** - Navigation
- **pdf** - PDF generation

## Contributing

1. Follow the guidelines in `.github/copilot-instructions.md`
2. Use meaningful commit messages
3. Test thoroughly before committing
4. Keep the code clean and well-documented

## License

This project is open source and available under the MIT License.

## Support

For Flutter documentation and resources:
- [Flutter Documentation](https://docs.flutter.dev/)
- [Flutter API Reference](https://api.flutter.dev/)
- [Flutter PWA Guide](https://docs.flutter.dev/platform-integration/web/building)

